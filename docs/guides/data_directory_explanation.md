# Hajimi King Data 目录文件说明

## 目录结构概览
```
data/
├── cache/                    # 缓存目录（当前为空）
├── keys/                     # 密钥文件存储目录
│   ├── keys_valid_20250807.txt      # 有效的 API 密钥
│   ├── key_429_20250807.txt         # 遇到速率限制的密钥
│   └── keys_send_20250807.txt       # 已发送到外部系统的密钥
├── logs/                     # 日志文件目录
│   ├── keys_valid_detail20250807.log    # 有效密钥的详细日志
│   ├── key_429_detail_20250807.log      # 速率限制密钥的详细日志
│   └── keys_send_detail_20250807.log    # 发送密钥的详细日志
├── checkpoint.json           # 程序检查点文件
├── queries.txt              # 搜索查询配置文件
└── scanned_shas.txt         # 已扫描文件的 SHA 记录
```

## 文件详细说明

### 1. **checkpoint.json** (166 字节)
- **用途**：保存程序运行状态，支持断点续传
- **内容**：
  - `last_scan_time`: 最后扫描时间
  - `processed_queries`: 已处理的查询列表
  - `wait_send_balancer`: 待发送到 Gemini Balancer 的密钥队列
  - `wait_send_gpt_load`: 待发送到 GPT Load 的密钥队列

### 2. **queries.txt** (171 字节)
- **用途**：定义 GitHub 搜索查询表达式
- **内容**：每行一个查询语句，如 `AIzaSy in:file`
- **说明**：程序会逐个执行这些查询来搜索可能包含 API 密钥的代码

### 3. **scanned_shas.txt** (31,958 字节)
- **用途**：记录已扫描过的 GitHub 文件的 SHA 值
- **作用**：避免重复扫描相同的文件，提高效率
- **格式**：每行一个 SHA 值

### 4. **keys/ 目录下的文件**

#### keys_valid_20250807.txt (1,640 字节)
- **内容**：验证有效的 Gemini API 密钥
- **格式**：每行一个密钥
- **数量**：40 行（24 个唯一密钥）

#### key_429_20250807.txt (1,107 字节)
- **内容**：遇到 429 错误（速率限制）的密钥
- **说明**：这些密钥可能是有效的，但因为请求过快被限制

#### keys_send_20250807.txt (0 字节)
- **内容**：已成功发送到外部系统的密钥
- **说明**：当前为空，因为外部同步功能未启用

### 5. **logs/ 目录下的文件**

#### keys_valid_detail20250807.log (10,576 字节)
- **内容**：有效密钥的详细验证日志
- **格式**：包含时间戳、仓库名、文件路径、密钥等信息

#### key_429_detail_20250807.log (6,693 字节)
- **内容**：速率限制密钥的详细日志
- **格式**：记录哪些密钥遇到了速率限制

#### keys_send_detail_20250807.log (0 字节)
- **内容**：外部同步的详细日志
- **说明**：当前为空，因为同步功能未启用

## 文件命名规则
- 日期格式：`YYYYMMDD`（如 20250807）
- 每天生成新的文件，便于管理和归档
- 文件前缀在 `.env` 配置文件中定义

## 数据流程
1. 程序从 `queries.txt` 读取搜索查询
2. 搜索 GitHub 并提取可能的 API 密钥
3. 验证密钥并分类保存到 `keys/` 目录
4. 记录详细日志到 `logs/` 目录
5. 更新 `checkpoint.json` 和 `scanned_shas.txt`
6. 如果启用同步，将密钥发送到外部系统